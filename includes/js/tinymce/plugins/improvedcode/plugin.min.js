(function(){var e=tinymce.extend;tinymce.create("tinymce.plugins.ImprovedCodePlugin",{init:function(t,n){var r=this;r.settings=e({height:580,indentUnit:4,tabSize:4,lineWrapping:true,lineNumbers:true,autoIndent:true,optionsBar:true,theme:"default"},t.getParam("improvedcode_options"));t.addCommand("mceImprovedCode",function(){t.focus();t.selection.collapse(true);t.selection.setContent('<span class="CuRCaRet" style="display:none">&#0;</span>');var e=r.settings.height;var i=t.dom.getViewPort(window).h;if(i<e){e=i*.9}t.windowManager.open({title:"Improved HTML Source Editor",url:n+"/improvedcode.htm",width:720,height:e,inline:true,resizable:true,maximizable:true},{plugin_url:n,settings:r.settings})});t.addButton("improvedcode",{title:"Improved HTML code Editor",cmd:"mceImprovedCode",image:n+"/img/htmlplus.gif",onPostRender:function(){var e=this;t.on("NodeChange",function(t){e.active(t.element.nodeName=="IMG")})}})},createControl:function(e,t){return null},getInfo:function(){return{longname:"Improved source code highlighter plugin",author:"Agustin Villalba",authorurl:"http://www.agustinvillalba.com",infourl:"http://www.agustinvillalba.com/portfolio.html",version:"1.2.1"}}});tinymce.PluginManager.add("improvedcode",tinymce.plugins.ImprovedCodePlugin)})()