/* 
 * Cliqon Startup JS including files from other sources that are too small to warrant separate loading
 */

/* New Javascript Language Function */
jQuery.extend({jStr:function(a){var b=null;var c="../includes/jstr.php?langcd="+jlcd+"&str="+a;$.ajax({url:c,type:"get",async:false,success:function(a){b=a}});return b}});

/* Format Currency */
function formatCurrency(num) {num = isNaN(num) || num === '' || num === null ? 0.00 : num; return parseFloat(num).toFixed(2);};

/* Reload */
function reLoad() { window.location.reload(); };
/* Sticky */
(function($){$.sticky=function(note,options,callback){return $.fn.sticky(note,options,callback)};$.fn.sticky=function(note,options,callback){var position="top-right";var settings={speed:"fast",duplicates:true,autoclose:5000};if(!note){note=this.html()}if(options){$.extend(settings,options)}var display=true;var duplicate="no";var uniqID=Math.floor(Math.random()*99999);$(".sticky-note").each(function(){if($(this).html()==note&&$(this).is(":visible")){duplicate="yes";if(!settings.duplicates){display=false}}if($(this).attr("id")==uniqID){uniqID=Math.floor(Math.random()*9999999)}});if(!$("body").find(".sticky-queue").html()){$("body").append('<div class="sticky-queue '+position+'"></div>')}if(display){$(".sticky-queue").prepend('<div class="sticky border-'+position+'" id="'+uniqID+'"></div>');$("#"+uniqID).append('<span class="sticky-close redcross" rel="'+uniqID+'" title="Close" style="">&nbsp;&nbsp;</span>');$("#"+uniqID).append('<div class="sticky-note" rel="'+uniqID+'">'+note+"</div>");var height=$("#"+uniqID).height();$("#"+uniqID).css("height",height);$("#"+uniqID).slideDown(settings.speed);display=true}$(".sticky").ready(function(){if(settings.autoclose){$("#"+uniqID).delay(settings.autoclose).fadeOut(settings.speed)}});$(".sticky-close").click(function(){$("#"+$(this).attr("rel")).dequeue().fadeOut(settings.speed)});var response={id:uniqID,duplicate:duplicate,displayed:display,position:position};if(callback){callback(response)}else{return(response)}}})(jQuery);

/* Apprise */
function apprise(a,b,c){var d={confirm:false,verify:false,input:false,animate:false,textOk:"Ok",textCancel:$.jStr(135),textYes:$.jStr(136),textNo:$.jStr(137)};if(b){for(var e in d){if(typeof b[e]=="undefined")b[e]=d[e]}}var f=$(document).height();var g=$(document).width();$("body").append('<div class="appriseOverlay" id="aOverlay"></div>');$(".appriseOverlay").css("height",f).css("width",g).fadeIn(100);$("body").append('<div class="appriseOuter"></div>');$(".appriseOuter").append('<div class="appriseInner"></div>');$(".appriseInner").append(a);$(".appriseOuter").css("left",($(window).width()-$(".appriseOuter").width())/2+$(window).scrollLeft()+"px");if(b){if(b["animate"]){var h=b["animate"];if(isNaN(h)){h=400}$(".appriseOuter").css("top","-200px").show().animate({top:"100px"},h)}else{$(".appriseOuter").css("top","100px").fadeIn(200)}}else{$(".appriseOuter").css("top","100px").fadeIn(200)}if(b){if(b["input"]){if(typeof b["input"]=="string"){$(".appriseInner").append('<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" value="'+b["input"]+'" /></div>')}else{$(".appriseInner").append('<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" /></div>')}$(".aTextbox").focus()}}$(".appriseInner").append('<div class="aButtons"></div>');if(b){if(b["confirm"]||b["input"]){$(".aButtons").append('<button value="ok">'+b["textOk"]+"</button>");$(".aButtons").append('<button value="cancel">'+b["textCancel"]+"</button>")}else if(b["verify"]){$(".aButtons").append('<button value="ok">'+b["textYes"]+"</button>");$(".aButtons").append('<button value="cancel">'+b["textNo"]+"</button>")}else{$(".aButtons").append('<button value="ok">'+b["textOk"]+"</button>")}}else{$(".aButtons").append('<button value="ok">Ok</button>')}$(document).keydown(function(a){if($(".appriseOverlay").is(":visible")){if(a.keyCode==13){$('.aButtons > button[value="ok"]').click()}if(a.keyCode==27){$('.aButtons > button[value="cancel"]').click()}}});var i=$(".aTextbox").val();if(!i){i=false}$(".aTextbox").keyup(function(){i=$(this).val()});$(".aButtons > button").click(function(){$(".appriseOverlay").remove();$(".appriseOuter").remove();if(c){var a=$(this).attr("value");if(a=="ok"){if(b){if(b["input"]){c(i)}else{c(true)}}else{c(true)}}else if(a=="cancel"){c(false)}}})};

/* Popbox */
(function(){$.fn.popbox=function(a){var b=$.extend({selector:this.selector,open:".open",box:".box",arrow:".arrow",arrow_border:".arrow-border",close:".close"},a);var c={open:function(a){a.preventDefault();var d=$(this);var e=$(this).parent().find(b["box"]);e.find(b["arrow"]).css({left:e.width()/2-10});e.find(b["arrow_border"]).css({left:e.width()/2-10});if(e.css("display")=="block"){c.close()}else{e.css({display:"block",top:10,left:d.parent().width()/2-e.width()/2})}},close:function(){$(b["box"]).fadeOut("fast")}};$(document).bind("keyup",function(a){if(a.keyCode==27){c.close()}});$(document).bind("click",function(a){if(!$(a.target).closest(b["selector"]).length){c.close()}});return this.each(function(){$(this).css({width:$(b["box"]).width()});$(b["open"],this).bind("click",c.open);$(b["open"],this).parent().find(b["close"]).bind("click",c.close)})}}).call(this);

// Read a page's GET URL variables and return them as an associative array.
function getUrlParams(){var a=[],b;var c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var d=0;d<c.length;d++){b=c[d].split("=");a.push(b[0]);a[b[0]]=b[1]}return a};

/* Base 64 Encode eg */

(function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var c=function(a){a=a.replace(/\x0d\x0a/g,"\n");var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);if(d<128){b+=String.fromCharCode(d)}else if(d>127&&d<2048){b+=String.fromCharCode(d>>6|192);b+=String.fromCharCode(d&63|128)}else{b+=String.fromCharCode(d>>12|224);b+=String.fromCharCode(d>>6&63|128);b+=String.fromCharCode(d&63|128)}}return b};var d=function(a){var b="";var c=0;var d=c1=c2=0;while(c<a.length){d=a.charCodeAt(c);if(d<128){b+=String.fromCharCode(d);c++}else if(d>191&&d<224){c2=a.charCodeAt(c+1);b+=String.fromCharCode((d&31)<<6|c2&63);c+=2}else{c2=a.charCodeAt(c+1);c3=a.charCodeAt(c+2);b+=String.fromCharCode((d&15)<<12|(c2&63)<<6|c3&63);c+=3}}return b};a.extend({base64Encode:function(a){var d="";var e,f,g,h,i,j,k;var l=0;a=c(a);while(l<a.length){e=a.charCodeAt(l++);f=a.charCodeAt(l++);g=a.charCodeAt(l++);h=e>>2;i=(e&3)<<4|f>>4;j=(f&15)<<2|g>>6;k=g&63;if(isNaN(f)){j=k=64}else if(isNaN(g)){k=64}d=d+b.charAt(h)+b.charAt(i)+b.charAt(j)+b.charAt(k)}return d},base64Decode:function(a){var c="";var e,f,g;var h,i,j,k;var l=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(l<a.length){h=b.indexOf(a.charAt(l++));i=b.indexOf(a.charAt(l++));j=b.indexOf(a.charAt(l++));k=b.indexOf(a.charAt(l++));e=h<<2|i>>4;f=(i&15)<<4|j>>2;g=(j&3)<<6|k;c=c+String.fromCharCode(e);if(j!=64){c=c+String.fromCharCode(f)}if(k!=64){c=c+String.fromCharCode(g)}}c=d(c);return c}})})(jQuery)

/* Exists function eg \$('#captcha_code').exists() */
$.fn.exists = function() { return (this.length > 0); };
$.fn.notexists = function() { return (this.length <= 0); };

/* Converts Get String to Post string */
$.fn.topost=function(){var g=arguments[0]||{};var a=g.getString;var b=a.split("?");var f=document.createElement("form");f.action=b[0];f.method="POST";var b=b[1].split("&");for(var h=0;h<b.length;h++){var e=b[h].indexOf("=");if(e>0){var c=b[h].substring(0,e);var d=b[h].substring(e+1);var j=document.createElement("input");j.name=c;j.type="hidden";j.value=d;f.appendChild(j)}}document.getElementsByTagName("body")[0].appendChild(f);f.submit()};

/* jqPrint - eg (dialog popup).jqprint()  
	• debug - Allows to choose to make visible the iframe used for printing.
	• css - css links in original page will be imported into iframe. First it searchs for media='print', if there isn't, will be imported the normal CSS files.
	• printContainer - Indicates if the original selector object must be included into the print (attention: setting it to false may breaks your CSS rules).
	• operaSupport - Indicates if the plugin must support also Opera, in that case it provides to build a temporary tab to print. 
	
	if( $('#printbutton').notexists() ) {$('.ui-dialog-titlebar').prepend('<a role="button" class="wijmo-wijdialog-titlebar-print ui-corner-all wijmo-wijdialog-captionbutton" href="#" id="printbutton"><span class="ui-icon ui-icon-print">print</span></a>');};
	
	$('.wijmo-wijdialog-titlebar-print').live('click', function() {
		$('#inpopup').jqprint();
	});
*/
(function(a){var b;a.fn.jqprint=function(e){b=a.extend({},a.fn.jqprint.defaults,e);var d=(this instanceof jQuery)?this:a(this);if(b.operaSupport&&a.browser.opera){var g=window.open("","jqPrint-preview");g.document.open();var c=g.document}else{var f=a("<iframe  />");if(!b.debug){f.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"})}f.appendTo("body");var c=f[0].contentWindow.document}if(b.importCSS){if(a("link[media=print]").length>0){a("link[media=print]").each(function(){c.write("<link type='text/css' rel='stylesheet' href='"+a(this).attr("href")+"' media='print' />")})}else{a("link").each(function(){c.write("<link type='text/css' rel='stylesheet' href='"+a(this).attr("href")+"' />")})}}if(b.printContainer){c.write(d.outer())}else{d.each(function(){c.write(a(this).html())})}c.close();(b.operaSupport&&a.browser.opera?g:f[0].contentWindow).focus();setTimeout(function(){(b.operaSupport&&a.browser.opera?g:f[0].contentWindow).print();if(g){g.close()}},1000)};a.fn.jqprint.defaults={debug:false,importCSS:true,printContainer:true,operaSupport:true};jQuery.fn.outer=function(){return a(a("<div></div>").html(this.clone())).html()}})(jQuery);

/* Reset function - .reset() */
jQuery.fn.reset = function () { $(this).each (function() { this.reset(); });};

/* Tiny Box */
TINY={};TINY.box=function(){var a,b,c,d,e,f=0;return{show:function(h){e={opacity:70,close:1,animate:1,fixed:1,mask:1,maskid:"",boxid:"",topsplit:2,url:0,post:0,height:0,width:0,html:0,iframe:0};for(s in h){e[s]=h[s]}if(!f){a=document.createElement("div");a.className="tbox";f=document.createElement("div");f.className="tinner";c=document.createElement("div");c.className="tcontent";b=document.createElement("div");b.className="tmask";d=document.createElement("div");d.className="tclose";d.v=0;document.body.appendChild(b);document.body.appendChild(a);a.appendChild(f);f.appendChild(c);b.onclick=d.onclick=TINY.box.hide;window.onresize=TINY.box.resize}else{a.style.display="none";clearTimeout(f.ah);if(d.v){f.removeChild(d);d.v=0}}f.id=e.boxid;b.id=e.maskid;a.style.position=e.fixed?"fixed":"absolute";if(e.html&&!e.animate){f.style.backgroundImage="none";c.innerHTML=e.html;c.style.display="";f.style.width=e.width?e.width+"px":"auto";f.style.height=e.height?e.height+"px":"auto"}else{c.style.display="none";if(!e.animate&&e.width&&e.height){f.style.width=e.width+"px";f.style.height=e.height+"px"}else{f.style.width=f.style.height="100px"}}if(e.mask){this.mask();this.alpha(b,1,e.opacity)}else{this.alpha(a,1,100)}if(e.autohide){f.ah=setTimeout(TINY.box.hide,1e3*e.autohide)}else{document.onkeyup=TINY.box.esc}},fill:function(a,b,c,d,g,h){if(b){if(e.image){var i=new Image;i.onload=function(){g=g||i.width;h=h||i.height;TINY.box.psh(i,d,g,h)};i.src=e.image}else if(e.iframe){this.psh('<iframe id="popupframe" src="'+e.iframe+'" width="'+e.width+'" frameborder="0" height="'+e.height+'"></iframe>',d,g,h)}else{var j=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");j.onreadystatechange=function(){if(j.readyState==4&&j.status==200){f.style.backgroundImage="";TINY.box.psh(j.responseText,d,g,h)}};if(c){j.open("POST",a,true);j.setRequestHeader("Content-type","application/x-www-form-urlencoded");j.send(c)}else{j.open("GET",a,true);j.send(null)}}}else{this.psh(a,d,g,h)}},psh:function(a,b,d,e){if(typeof a=="object"){c.appendChild(a)}else{c.innerHTML=a}var g=f.style.width,h=f.style.height;if(!d||!e){f.style.width=d?d+"px":"";f.style.height=e?e+"px":"";c.style.display="";if(!e){e=parseInt(c.offsetHeight)}if(!d){d=parseInt(c.offsetWidth)}c.style.display="none"}f.style.width=g;f.style.height=h;this.size(d,e,b)},esc:function(a){a=a||window.event;if(a.keyCode==27){TINY.box.hide()}},hide:function(){TINY.box.alpha(a,-1,0,3);document.onkeypress=null;if(e.closejs){e.closejs()}},resize:function(){TINY.box.pos();TINY.box.mask()},mask:function(){b.style.height=this.total(1)+"px";b.style.width=this.total(0)+"px"},pos:function(){var b;if(typeof e.top!="undefined"){b=e.top}else{b=this.height()/e.topsplit-a.offsetHeight/2;b=b<20?20:b}if(!e.fixed&&!e.top){b+=this.top()}a.style.top=b+"px";a.style.left=typeof e.left!="undefined"?e.left+"px":this.width()/2-a.offsetWidth/2+"px"},alpha:function(a,b,c){clearInterval(a.ai);if(b){a.style.opacity=0;a.style.filter="alpha(opacity=0)";a.style.display="block";TINY.box.pos()}a.ai=setInterval(function(){TINY.box.ta(a,c,b)},20)},ta:function(d,g,h){var i=Math.round(d.style.opacity*100);if(i==g){clearInterval(d.ai);if(h==-1){d.style.display="none";d==a?TINY.box.alpha(b,-1,0,2):c.innerHTML=f.style.backgroundImage=""}else{if(d==b){this.alpha(a,1,100)}else{a.style.filter="";TINY.box.fill(e.html||e.url,e.url||e.iframe||e.image,e.post,e.animate,e.width,e.height)}}}else{var k=g-Math.floor(Math.abs(g-i)*.5)*h;d.style.opacity=k/100;d.style.filter="alpha(opacity="+k+")"}},size:function(a,b,h){if(h){clearInterval(f.si);var i=parseInt(f.style.width)>a?-1:1,j=parseInt(f.style.height)>b?-1:1;f.si=setInterval(function(){TINY.box.ts(a,i,b,j)},20)}else{f.style.backgroundImage="none";if(e.close){f.appendChild(d);d.v=1}f.style.width=a+"px";f.style.height=b+"px";c.style.display="";this.pos();if(e.openjs){e.openjs()}}},ts:function(a,b,h,i){var j=parseInt(f.style.width),k=parseInt(f.style.height);if(j==a&&k==h){clearInterval(f.si);f.style.backgroundImage="none";c.style.display="block";if(e.close){f.appendChild(d);d.v=1}if(e.openjs){e.openjs()}}else{if(j!=a){f.style.width=a-Math.floor(Math.abs(a-j)*.6)*b+"px"}if(k!=h){f.style.height=h-Math.floor(Math.abs(h-k)*.6)*i+"px"}this.pos()}},top:function(){return document.documentElement.scrollTop||document.body.scrollTop},width:function(){return self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function(){return self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},total:function(a){var b=document.body,c=document.documentElement;return a?Math.max(Math.max(b.scrollHeight,c.scrollHeight),Math.max(b.clientHeight,c.clientHeight)):Math.max(Math.max(b.scrollWidth,c.scrollWidth),Math.max(b.clientWidth,c.clientWidth))}}}();

/* Dialog Box */
var TIMER=5;var SPEED=1000;var WRAPPER="";var DLGRESULT=null;var ALLOWHIDE=true;var DEFAULT_WIDTH=425;var DEFAULT_CONTENT_HEIGHT=160;var MASKCOLOR="#DDD";var isIE=(navigator.appName=="Microsoft Internet Explorer");if(window.attachEvent){document.attachEvent("onmousemove",MouseMv)}else{document.addEventListener("mousemove",MouseMv,false)}function MouseMv(a){if(!a){a=window.event}if(typeof a.pageX=="number"){MouseMv.X=a.pageX}else{MouseMv.X=a.clientX}if(typeof a.pageY=="number"){MouseMv.Y=a.pageY}else{MouseMv.Y=a.clientY}}MouseMv.X=0;MouseMv.Y=0;function isDef(a,b){try{if(b===null||typeof(b)=="undefined"){return(a!==null&&typeof(a)!="undefined")}return(a!==null&&typeof(a)==b)}catch(c){}return false}function el(b){try{if(!isDef(b,"string")||b==""){return null}return document.getElementById(b)}catch(a){}return null}function getWidth(a){try{if(!isDef(a)){return 0}if(a.style.display=="none"){return 0}return a.innerWidth?a.innerWidth:a.clientWidth?a.clientWidth:a.offsetWidth}catch(b){}return 0}function getHeight(a){try{if(!isDef(a)){return 0}if(a.style.display=="none"){return 0}return a.innerHeight?a.innerHeight:a.clientHeight?a.clientHeight:a.offsetHeight}catch(b){}return 0}function getScrollSize(){try{var a=document.body;var d=document.documentElement;var c=Math.max(a.scrollHeight,d.scrollHeight,a.offsetHeight,d.offsetHeight,a.clientHeight,d.clientHeight);var b=Math.max(a.scrollWidth,d.scrollWidth,a.offsetWidth,d.offsetWidth,a.clientWidth,d.clientWidth);return{x:b,y:c}}catch(f){}return{x:0,y:0}}function getScrollPos(){try{if(typeof(pageXOffset)!="undefined"){return{x:pageXOffset,y:pageYOffset}}else{var a=document.body;var b=document.documentElement;return((b.clientHeight)?{x:b.scrollLeft,y:b.scrollTop}:{x:a.scrollLeft,y:a.scrollTop})}}catch(c){}return{x:0,y:0}}function button(a,b){this.name=a;this.close=b}function showDialog(C,n,e,r,q,b,d,x,k){var t;var p;var w;var g;var o;var f;var c;var v;DLGRESULT=null;showDialog.buttonList=k;if(!isDef(e)){e="error"}if(!isDef(b)){b=false}if(!isDef(d)){d=false}if(!isDef(x)){x=true}if(!isDef(k)){k=new Array()}if(!el("dialog")){t=document.createElement("div");t.id="dialog";p=document.createElement("div");p.id="dialog_header";g=document.createElement("div");g.id="dialog_title";w=document.createElement("div");w.id="dialog_close";o=document.createElement("div");o.id="dialog_body";f=document.createElement("div");f.id="dialog_content";c=document.createElement("div");c.id="dialog_bar";v=document.createElement("iframe");v.id="dialog_mask";v.style.display="none";document.body.appendChild(v);document.body.appendChild(t);t.appendChild(p);p.appendChild(g);p.appendChild(w);t.appendChild(o);o.appendChild(f);o.appendChild(c);w.setAttribute("onclick","hideDialog()");w.onclick=hideDialog;v.setAttribute("frameborder",0);var B=v.contentDocument||v.contentWindow.document;B.open();B.writeln('<html><head></head><body style="margin: 0px"></body></html>');B.close();B.body.onclick=hideDialog;if(MASKCOLOR==""){MASKCOLOR="#FFFFFF"}}else{t=el("dialog");p=el("dialog_header");g=el("dialog_title");w=el("dialog_close");o=el("dialog_body");f=el("dialog_content");c=el("dialog_bar");v=el("dialog_mask");t.style.visibility="visible"}if(x){v.style.display="block"}c.style.display=((k.length>0)?"block":"none");t.style.opacity=0;t.style.filter="alpha(opacity=0)";t.alpha=0;var s=el(WRAPPER);if(!isDef(s)){var y=document.documentElement;var m=document.body;s=((y.clientHeight)?y:m)}t.className=e+"border";p.className=e+"header";g.innerHTML=C;o.className=e+"body";c.className=e+"border";f.innerHTML=n;if(e=="message"){f.style.overflow="auto"}if(k.length>0){if(k.length==1){c.style.textAlign="center"}else{c.style.textAlign="right"}c.innerHTML="";for(id in k){c.innerHTML+='<button type="button" onclick="hideDialog('+id+');">'+k[id].name+"</button>"}}if(!isDef(r)||(isIE&&r==0)){t.style.width=DEFAULT_WIDTH+"px"}else{if(r==0){t.style.width="auto"}else{t.style.width=r+"px"}}if(!isDef(q)||(isIE&&q==0)){f.style.height=DEFAULT_CONTENT_HEIGHT+"px";t.style.height=(getHeight(p)+DEFAULT_CONTENT_HEIGHT+(isIE?0:13)+getHeight(c))+"px"}else{if(q==0){f.style.height="auto";t.style.height="auto"}else{f.style.height=(q-getHeight(p)-getHeight(c))+"px";t.style.height=(q+(isIE?0:13))+"px"}}var A,h;var j=getWidth(s),i=getHeight(s);var z=getWidth(t),l=getHeight(t);var u=getScrollPos();if(d){A=MouseMv.Y;h=MouseMv.X;if(!isIE){A-=u.y;h-=u.x}}else{A=((i-l)/2);h=((j-z)/2)}if((A+l)>i-2){A=i-l-2}if((h+z)>j-2){h=j-z-2}A+=u.y;h+=u.x;t.style.top=A+"px";t.style.left=h+"px";if(x){var a=getScrollSize();v.style.height=a.y+"px";v.style.width=a.x+"px";var B=v.contentDocument||v.contentWindow.document;B.body.style.height=v.style.height;B.body.style.backgroundColor=MASKCOLOR}t.timer=setInterval("fadeDialog(1)",TIMER);if(b){window.setTimeout("hideDialog()",(b*1000))}}showDialog.buttonList=null;function hideDialog(b){var a=el("dialog");if(!isDef(b)){b=-1}DLGRESULT=b;if(ALLOWHIDE||b<0||showDialog.buttonList.length==0||showDialog.buttonList[b].close){clearInterval(a.timer);a.timer=setInterval("fadeDialog(0)",TIMER)}}function fadeDialog(a){var b=el("dialog");var c;if(!isDef(a)){a=1}if(a==1){c=b.alpha+SPEED}else{c=b.alpha-SPEED}b.alpha=c;b.style.opacity=(c/100);b.style.filter="alpha(opacity="+c+")";if(c>=99){clearInterval(b.timer);b.timer=null}else{if(c<=1){b.style.visibility="hidden";if(el("dialog_mask")){el("dialog_mask").style.display="none"}clearInterval(b.timer)}}};

/* Require  - .require()*/
(function(a){a.require=function(b,c){var c=c||{};var d=c.browserType===false?false:true;var e="";if(!d){return a}var f=c.callBack||function(){};var g=c.cache===false?false:true;if(!a.require.loadedLib)a.require.loadedLib={};if(!a.scriptPath){var h=a("script").attr("src");a.scriptPath=h.replace(/\w+\.js$/,"")}if(typeof b==="string"){b=new Array(b)}for(var i=0;i<b.length;i++){if(!a.require.loadedLib[b[i]]){a.ajax({type:"GET",url:a.scriptPath+b[i],success:f,dataType:"script",cache:g,async:false});a.require.loadedLib[b[i]]=true}}return a}})(jQuery);

/* Storage */
(function(a){a.fn.storage=function(b){var d={onStart:function(){},onExit:function(){},beforeSave:function(){},afterSave:function(){},storageKey:"storageKey",revert:false,store:true},c=a.extend({},d,b);return this.each(function(){var g=a(this),e=g.text(),f="orig"+c.storageKey;g.attr("data-orig-text",e);if(c.store){localStorage.setItem(f,e)}g.attr("contenteditable","");if(c.store){if(c.revert){g.text(localStorage.getItem(f));if(g.text()==""||g.text()=="null"){g.text(g.data("orig-text"))}}else{g.text(localStorage.getItem(c.storageKey));if(g.text()==""||g.text()=="null"){g.text(g.data("orig-text"))}}}g.focus(function(){var h=g.text();g.addClass("sf-focus");c.onStart.apply(this,[a(this),h])});g.blur(function(){var h=g.text();g.removeClass("sf-focus");g.addClass("sf-blur");c.onExit.apply(this,[a(this),h]);if(c.store){c.beforeSave.apply(this,[a(this),h]);localStorage.setItem(c.storageKey,g.text());c.afterSave.apply(this,[a(this),h])}g.attr("data-orig-text",g.text());g.removeClass("sf-blur")})})}})(jQuery);

/* Character to Table Image */
jQuery.fn.charToTable=function(a){a=jQuery.extend({requestUrl:"chartopixels.php",character:" ",append:true,tableClass:"chartable",tdClass:"pixel",withRgb:false,callback:null},a);return this.each(function(){var b=this;if(!a.character||a.character=="")a.character=" ";a.character=a.character.substr(0,1);jQuery.getJSON(a.requestUrl,{c:a.character},function(c){var d='<table class="'+a.tableClass+'" />';if(a.append)jQuery(b).append(d);else jQuery(b).html(d);var e=jQuery(b).find("table."+a.tableClass+":last");for(var f=0;f<c.length;f++){jQuery(e).append("<tr />");var g=jQuery(e).find("tr:last");jQuery.each(c[f],function(b,c){if(c==0)d="<td />";else{d='<td class="'+a.tdClass;if(a.withRgb)d+=" rgb-"+c;d+='" />'}jQuery(g).append(d)})}if(jQuery.isFunction(a.callback))a.callback()})})};

/* Modernizr 2.5.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-flexbox_legacy-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransforms3d-csstransitions-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-shiv-cssclasses-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-load
 */
;window.Modernizr=function(a,b,c){function B(a){j.cssText=a}function C(a,b){return B(n.join(a+";")+(b||""))}function D(a,b){return typeof a===b}function E(a,b){return!!~(""+a).indexOf(b)}function F(a,b){for(var d in a)if(j[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function G(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:D(f,"function")?f.bind(d||b):f}return!1}function H(a,b,c){var d=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+p.join(d+" ")+d).split(" ");return D(b,"string")||D(b,"undefined")?F(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),G(e,b,c))}function J(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)t[c[d]]=c[d]in k;return t.list&&(t.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:/^color$/.test(f)?(g.appendChild(k),g.offsetWidth,e=k.value!=l,g.removeChild(k)):e=k.value!=l)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.5.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k=b.createElement("div"),l=b.body,m=l?l:b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),k.appendChild(j);return f=["&#173;","<style>",a,"</style>"].join(""),k.id=h,(l?k:m).innerHTML+=f,m.appendChild(k),l||(m.style.background="",g.appendChild(m)),i=c(k,a),l?k.parentNode.removeChild(k):m.parentNode.removeChild(m),!!i},y=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=D(e[d],"function"),D(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),z={}.hasOwnProperty,A;!D(z,"undefined")&&!D(z.call,"undefined")?A=function(a,b){return z.call(a,b)}:A=function(a,b){return b in a&&D(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e});var I=function(a,c){var d=a.join(""),f=c.length;x(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],g=d?d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"":"",h=a.childNodes,i={};while(f--)i[h[f].id]=h[f];e.csstransforms3d=(i.csstransforms3d&&i.csstransforms3d.offsetLeft)===9&&i.csstransforms3d.offsetHeight===3,e.generatedcontent=(i.generatedcontent&&i.generatedcontent.offsetHeight)>=1,e.fontface=/src/i.test(g)&&g.indexOf(c.split(" ")[0])===0},f,c)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",n.join("transform-3d),("),h,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',l,'";visibility:hidden}'].join("")],["fontface","csstransforms3d","generatedcontent"]);r.flexbox=function(){return H("flexOrder")},r["flexbox-legacy"]=function(){return H("boxDirection")},r.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},r.canvastext=function(){return!!e.canvas&&!!D(b.createElement("canvas").getContext("2d").fillText,"function")},r.postmessage=function(){return!!a.postMessage},r.websqldatabase=function(){return!!a.openDatabase},r.indexedDB=function(){return!!H("indexedDB",a)},r.hashchange=function(){return y("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},r.history=function(){return!!a.history&&!!history.pushState},r.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},r.websockets=function(){for(var b=-1,c=p.length;++b<c;)if(a[p[b]+"WebSocket"])return!0;return"WebSocket"in a},r.rgba=function(){return B("background-color:rgba(150,255,150,.5)"),E(j.backgroundColor,"rgba")},r.hsla=function(){return B("background-color:hsla(120,40%,100%,.5)"),E(j.backgroundColor,"rgba")||E(j.backgroundColor,"hsla")},r.multiplebgs=function(){return B("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},r.backgroundsize=function(){return H("backgroundSize")},r.borderimage=function(){return H("borderImage")},r.borderradius=function(){return H("borderRadius")},r.boxshadow=function(){return H("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){return C("opacity:.55"),/^0.55$/.test(j.opacity)},r.cssanimations=function(){return H("animationName")},r.csscolumns=function(){return H("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return B((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),E(j.backgroundImage,"gradient")},r.cssreflections=function(){return H("boxReflect")},r.csstransforms=function(){return!!H("transform")},r.csstransforms3d=function(){var a=!!H("perspective");return a&&"webkitPerspective"in g.style&&(a=e.csstransforms3d),a},r.csstransitions=function(){return H("transition")},r.fontface=function(){return e.fontface},r.generatedcontent=function(){return e.generatedcontent},r.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},r.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},r.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},r.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},r.webworkers=function(){return!!a.Worker},r.applicationcache=function(){return!!a.applicationCache};for(var K in r)A(r,K)&&(w=K.toLowerCase(),e[w]=r[K](),u.push((e[w]?"":"no-")+w));return e.input||J(),B(""),i=k=null,function(a,b){function g(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function h(){var a=k.elements;return typeof a=="string"?a.split(" "):a}function i(a){var b={},c=a.createElement,e=a.createDocumentFragment,f=e();a.createElement=function(a){var e=(b[a]||(b[a]=c(a))).cloneNode();return k.shivMethods&&e.canHaveChildren&&!d.test(a)?f.appendChild(e):e},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+h().join().replace(/\w+/g,function(a){return b[a]=c(a),f.createElement(a),'c("'+a+'")'})+");return n}")(k,f)}function j(a){var b;return a.documentShived?a:(k.shivCSS&&!e&&(b=!!g(a,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),f||(b=!i(a)),b&&(a.documentShived=b),a)}var c=a.html5||{},d=/^<|^(?:button|form|map|select|textarea)$/i,e,f;(function(){var a=b.createElement("a");a.innerHTML="<xyz></xyz>",e="hidden"in a,f=a.childNodes.length==1||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()})();var k={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:j};a.html5=k,j(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=y,e.testProp=function(a){return F([a])},e.testAllProps=H,e.testStyles=x,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return o.call(a)=="[object Function]"}function e(a){return typeof a=="string"}function f(){}function g(a){return!a||a=="loaded"||a=="complete"||a=="uninitialized"}function h(){var a=p.shift();q=1,a?a.t?m(function(){(a.t=="c"?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){a!="img"&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l={},o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};y[c]===1&&(r=1,y[c]=[],l=b.createElement(a)),a=="object"?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),a!="img"&&(r||y[c]===2?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i(b=="c"?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),p.length==1&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&o.call(a.opera)=="[object Opera]",l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return o.call(a)=="[object Array]"},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,i){var j=b(a),l=j.autoCallback;j.url.split(".").pop().split("?").shift(),j.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]||h),j.instead?j.instead(a,e,f,g,i):(y[j.url]?j.noexec=!0:y[j.url]=1,f.load(j.url,j.forceCSS||!j.forceJS&&"css"==j.url.split(".").pop().split("?").shift()?"c":c,j.noexec,j.attrs,j.timeout),(d(e)||d(l))&&f.load(function(){k(),e&&e(j.origUrl,i,g),l&&l(j.origUrl,i,g),y[j.url]=2})))}function i(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var j,l,m=this.yepnope.loader;if(e(a))g(a,0,m,0);else if(w(a))for(j=0;j<a.length;j++)l=a[j],e(l)?g(l,0,m,0):w(l)?B(l):Object(l)===l&&i(l,m);else Object(a)===a&&i(a,m)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};

/* accounting.js v0.3.2, copyright 2011 Joss Crowcroft, MIT license, http://josscrowcroft.github.com/accounting.js */
(function(p,z){function q(a){return!!(""===a||a&&a.charCodeAt&&a.substr)}function m(a){return u?u(a):"[object Array]"===v.call(a)}function r(a){return"[object Object]"===v.call(a)}function s(a,b){var d,a=a||{},b=b||{};for(d in b)b.hasOwnProperty(d)&&null==a[d]&&(a[d]=b[d]);return a}function j(a,b,d){var c=[],e,h;if(!a)return c;if(w&&a.map===w)return a.map(b,d);for(e=0,h=a.length;e<h;e++)c[e]=b.call(d,a[e],e,a);return c}function n(a,b){a=Math.round(Math.abs(a));return isNaN(a)?b:a}function x(a){var b=c.settings.currency.format;"function"===typeof a&&(a=a());return q(a)&&a.match("%v")?{pos:a,neg:a.replace("-","").replace("%v","-%v"),zero:a}:!a||!a.pos||!a.pos.match("%v")?!q(b)?b:c.settings.currency.format={pos:b,neg:b.replace("%v","-%v"),zero:b}:a}var c={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},w=Array.prototype.map,u=Array.isArray,v=Object.prototype.toString,o=c.unformat=c.parse=function(a,b){if(m(a))return j(a,function(a){return o(a,b)});a=a||0;if("number"===typeof a)return a;var b=b||".",c=RegExp("[^0-9-"+b+"]",["g"]),c=parseFloat((""+a).replace(/\((.*)\)/,"-$1").replace(c,"").replace(b,"."));return!isNaN(c)?c:0},y=c.toFixed=function(a,b){var b=n(b,c.settings.number.precision),d=Math.pow(10,b);return(Math.round(c.unformat(a)*d)/d).toFixed(b)},t=c.formatNumber=function(a,b,d,i){if(m(a))return j(a,function(a){return t(a,b,d,i)});var a=o(a),e=s(r(b)?b:{precision:b,thousand:d,decimal:i},c.settings.number),h=n(e.precision),f=0>a?"-":"",g=parseInt(y(Math.abs(a||0),h),10)+"",l=3<g.length?g.length%3:0;return f+(l?g.substr(0,l)+e.thousand:"")+g.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+e.thousand)+(h?e.decimal+y(Math.abs(a),h).split(".")[1]:"")},A=c.formatMoney=function(a,b,d,i,e,h){if(m(a))return j(a,function(a){return A(a,b,d,i,e,h)});var a=o(a),f=s(r(b)?b:{symbol:b,precision:d,thousand:i,decimal:e,format:h},c.settings.currency),g=x(f.format);return(0<a?g.pos:0>a?g.neg:g.zero).replace("%s",f.symbol).replace("%v",t(Math.abs(a),n(f.precision),f.thousand,f.decimal))};c.formatColumn=function(a,b,d,i,e,h){if(!a)return[];var f=s(r(b)?b:{symbol:b,precision:d,thousand:i,decimal:e,format:h},c.settings.currency),g=x(f.format),l=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,k=0,a=j(a,function(a){if(m(a))return c.formatColumn(a,f);a=o(a);a=(0<a?g.pos:0>a?g.neg:g.zero).replace("%s",f.symbol).replace("%v",t(Math.abs(a),n(f.precision),f.thousand,f.decimal));if(a.length>k)k=a.length;return a});return j(a,function(a){return q(a)&&a.length<k?l?a.replace(f.symbol,f.symbol+Array(k-a.length+1).join(" ")):Array(k-a.length+1).join(" ")+a:a})};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports)exports=module.exports=c;exports.accounting=c}else"function"===typeof define&&define.amd?define([],function(){return c}):(c.noConflict=function(a){return function(){p.accounting=a;c.noConflict=z;return c}}(p.accounting),p.accounting=c)})(this);

/* Bitly - Usage: get_short_link("http://jquery4u.com"); 
function get_short_link($url) {
  $bitly_login="yourloginname"; $bitly_apikey="yourapikey";
  $api_call = file_get_contents("http://api.bit.ly/shorten?version=2.0.1&longUrl=".$url."&login=".$bitly_login."&apiKey=".$bitly_apikey);
  $bitlyinfo=json_decode(utf8_encode($api_call),true);
  if ($bitlyinfo['errorCode']==0) { return $bitlyinfo['results'][urldecode($url)]['shortUrl'];} else {return false;}
};
*/

/* Convert Fieldset to Tabs  - $('form').fieldset_tabs(); */
(function(a){a.fn.fieldset_tabs=function(b){return this.each(function(){var b=a(this);var c=a("<ul></ul>");b.prepend(c);b.find("fieldset").each(function(b){var d=a(this).find("legend").text();a(this).find("legend").remove();var e="tab_"+b;a(this).attr("id",e);c.append('<li><a href="#'+e+'">'+d+"</a></li>")});var d=b.tabs();a(".ui-tabs-panel").each(function(b){var c=a(".ui-tabs-panel").size()-1;var d=a(this).height();if(b!=0){prev=b-1;a(this).append("<button type='button' style='float:left;clear:both;margin-top:"+d+"px;' class='prev-tab mover' data-pos='"+prev+"'><span class='icon leftarrow'></span>Prev</button>")}if(b!=c){next=b+1;a(this).append("<button type='button' style='float:right;margin-top:"+d+"px;' class='next-tab mover' data-pos='"+next+"'>Next <span class='icon rightarrow'></span></button>")}});a(".next-tab, .prev-tab").live("click",function(){d.tabs("select",a(this).data("pos"));return false});return b.tabs()})}})(jQuery);

/* Standard grab right click function - $('selector').rclick() or $('selector').live('rclick', function() {}) */
(function(a){a.event.special.rclick={setup:function(){var b=function(b){if(b.which==3){b.type="rclick";return a.event.trigger(b,arguments[1],b.target)}};a.event.add(this,"contextmenu.specialrclick",function(){return false});a.event.add(this,"mousedown.specialrclick",b)},teardown:function(){a.event.remove(this,".specialrclick")}}})(jQuery);

/* mousetrap v1.1.2 */
window.Mousetrap=function(){function o(a,c,b){if(a.addEventListener)return a.addEventListener(c,b,!1);a.attachEvent("on"+c,b)}function u(a){return"keypress"==a.type?String.fromCharCode(a.which):h[a.which]?h[a.which]:v[a.which]?v[a.which]:String.fromCharCode(a.which).toLowerCase()}function p(a){var a=a||{},c=!1,b;for(b in l)a[b]?c=!0:l[b]=0;c||(n=!1)}function w(a,c,b,d,C){var g,e,f=[];if(!j[a])return[];"keyup"==b&&q(a)&&(c=[a]);for(g=0;g<j[a].length;++g)if(e=j[a][g],!(e.seq&&l[e.seq]!=e.level)&&b==
e.action&&("keypress"==b||c.sort().join(",")===e.modifiers.sort().join(",")))d&&e.combo==C&&j[a].splice(g,1),f.push(e);return f}function r(a,c){!1===a(c)&&(c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation(),c.returnValue=!1,c.cancelBubble=!0)}function s(a){a.which="number"==typeof a.which?a.which:a.keyCode;var c=u(a);if(c)if("keyup"==a.type&&t==c)t=!1;else{var b=a.target||a.srcElement,d=b.tagName;if(!(-1<(" "+b.className+" ").indexOf(" mousetrap ")?0:"INPUT"==d||"SELECT"==
d||"TEXTAREA"==d||b.contentEditable&&"true"==b.contentEditable)){b=[];a.shiftKey&&b.push("shift");a.altKey&&b.push("alt");a.ctrlKey&&b.push("ctrl");a.metaKey&&b.push("meta");for(var b=w(c,b,a.type),f={},g=!1,d=0;d<b.length;++d)b[d].seq?(g=!0,f[b[d].seq]=1,r(b[d].callback,a)):!g&&!n&&r(b[d].callback,a);a.type==n&&!q(c)&&p(f)}}}function q(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function x(a,c,b){if(!b){if(!k){k={};for(var d in h)95<d&&112>d||h.hasOwnProperty(d)&&(k[h[d]]=d)}b=k[a]?"keydown":
"keypress"}"keypress"==b&&c.length&&(b="keydown");return b}function y(a,c,b,d,f){var a=a.replace(/\s+/g," "),g=a.split(" "),e,h,i=[];if(1<g.length){var k=a,m=b;l[k]=0;m||(m=x(g[0],[]));a=function(){n=m;++l[k];clearTimeout(z);z=setTimeout(p,1E3)};b=function(a){r(c,a);"keyup"!==m&&(t=u(a));setTimeout(p,10)};for(d=0;d<g.length;++d)y(g[d],d<g.length-1?a:b,m,k,d)}else{h="+"===a?["+"]:a.split("+");for(g=0;g<h.length;++g)e=h[g],A[e]&&(e=A[e]),b&&("keypress"!=b&&B[e])&&(e=B[e],i.push("shift")),q(e)&&i.push(e);
b=x(e,i,b);j[e]||(j[e]=[]);w(e,i,b,!d,a);j[e][d?"unshift":"push"]({callback:c,modifiers:i,action:b,seq:d,level:f,combo:a})}}for(var h={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},v={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},B=
{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta","return":"enter",escape:"esc"},k,j={},i={},l={},z,t=!1,n=!1,f=1;20>f;++f)h[111+f]="f"+f;for(f=0;9>=f;++f)h[f+96]=f;o(document,"keypress",s);o(document,"keydown",s);o(document,"keyup",s);return{bind:function(a,c,b){for(var d=a instanceof Array?a:[a],f=0;f<d.length;++f)y(d[f],c,b);i[a+":"+b]=c},unbind:function(a,c){i[a+
":"+c]&&(delete i[a+":"+c],this.bind(a,function(){},c))},trigger:function(a,c){i[a+":"+c]()},reset:function(){j={};i={}}}}();

/* Context Menu  $.ctxmenu({options}) */
(function(a,b){function o(a){var b=a.split(/\s+/),c=[];for(var d=0,e;e=b[d];d++){e=e[0].toUpperCase();c.push(e)}return c}function p(b){return b.id&&a('label[for="'+b.id+'"]').val()||b.name}function q(c,d,e){if(!e){e=0}d.each(function(){var d=a(this),f=this,g=this.nodeName.toLowerCase(),h,i;if(g=="label"&&d.find("input, textarea, select").length){h=d.text();d=d.children().first();f=d.get(0);g=f.nodeName.toLowerCase()}switch(g){case"menu":i={name:d.attr("label"),items:{}};e=q(i.items,d.children(),e);break;case"a":case"button":i={name:d.text(),disabled:!!d.attr("disabled"),callback:function(){return function(){d.click()}}()};break;case"menuitem":case"command":switch(d.attr("type")){case b:case"command":case"menuitem":i={name:d.attr("label"),disabled:!!d.attr("disabled"),callback:function(){return function(){d.click()}}()};break;case"checkbox":i={type:"checkbox",disabled:!!d.attr("disabled"),name:d.attr("label"),selected:!!d.attr("checked")};break;case"radio":i={type:"radio",disabled:!!d.attr("disabled"),name:d.attr("label"),radio:d.attr("radiogroup"),value:d.attr("id"),selected:!!d.attr("checked")};break;default:i=b}break;case"hr":i="-------";break;case"input":switch(d.attr("type")){case"text":i={type:"text",name:h||p(f),disabled:!!d.attr("disabled"),value:d.val()};break;case"checkbox":i={type:"checkbox",name:h||p(f),disabled:!!d.attr("disabled"),selected:!!d.attr("checked")};break;case"radio":i={type:"radio",name:h||p(f),disabled:!!d.attr("disabled"),radio:!!d.attr("name"),value:d.val(),selected:!!d.attr("checked")};break;default:i=b;break}break;case"select":i={type:"select",name:h||p(f),disabled:!!d.attr("disabled"),selected:d.val(),options:{}};d.children().each(function(){i.options[this.value]=a(this).text()});break;case"textarea":i={type:"textarea",name:h||p(f),disabled:!!d.attr("disabled"),value:d.val()};break;case"label":break;default:i={type:"html",html:d.clone(true)};break}if(i){e++;c["key"+e]=i}});return e}a.support.htmlMenuitem="HTMLMenuItemElement"in window;a.support.htmlCommand="HTMLCommandElement"in window;a.support.eventSelectstart="onselectstart"in document.documentElement;var c=null,d=false,e=a(window),f=0,g={},h={},i={},j={selector:null,appendTo:null,trigger:"right",autoHide:false,delay:200,determinePosition:function(b){if(a.ui&&a.ui.position){b.css("display","block").position({my:"right top",at:"left bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none")}else{var c=this.offset();c.top+=this.outerHeight();c.left+=this.outerWidth()/2-b.outerWidth()/2;b.css(c)}},position:function(b,c,d){var f=this,g;if(!c&&!d){b.determinePosition.call(this,b.$menu);return}else if(c==="maintain"&&d==="maintain"){g=b.$menu.position()}else{var h=b.$trigger.parents().andSelf().filter(function(){return a(this).css("position")=="fixed"}).length;if(h){d-=e.scrollTop();c-=e.scrollLeft()}g={top:d+10,left:c-160}}var i=e.scrollTop()+e.height(),j=e.scrollLeft()+e.width(),k=b.$menu.height(),l=b.$menu.width();if(g.top+k>i){g.top-=k}if(g.left+l>j){g.left-=l}b.$menu.css(g)},positionSubmenu:function(b){if(a.ui&&a.ui.position){b.css("display","block").position({my:"left top",at:"right top",of:this,collision:"fit"}).css("display","")}else{var c={top:0,left:this.outerWidth()};b.css(c)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:a.noop,hide:a.noop},callback:null,items:{}},k={timer:null,pageX:null,pageY:null},l=function(a){var b=0,c=a;while(true){b=Math.max(b,parseInt(c.css("z-index"),10)||0);c=c.parent();if(!c||!c.length||"html body".indexOf(c.prop("nodeName").toLowerCase())>-1){break}}return b},m={abortevent:function(a){a.preventDefault();a.stopImmediatePropagation()},ctxmenu:function(b){var d=a(this);b.preventDefault();b.stopImmediatePropagation();if(b.data.trigger!="right"&&b.originalEvent){return}if(!d.hasClass("context-menu-disabled")){c=d;if(b.data.build){var e=b.data.build(c,b);if(e===false){return}b.data=a.extend(true,{},j,b.data,e||{});if(!b.data.items||a.isEmptyObject(b.data.items)){if(window.console){(console.error||console.log)("No items specified to show in ctxmenu")}throw new Error("No Items sepcified")}b.data.$trigger=c;n.create(b.data)}n.show.call(d,b.data,b.pageX,b.pageY)}},click:function(b){b.preventDefault();b.stopImmediatePropagation();a(this).trigger(jQuery.Event("ctxmenu",{data:b.data,pageX:b.pageX,pageY:b.pageY}))},mousedown:function(b){var d=a(this);if(c&&c.length&&!c.is(d)){c.data("ctxmenu").$menu.trigger("ctxmenu:hide")}if(b.button==2){c=d.data("ctxmenuActive",true)}},mouseup:function(b){var d=a(this);if(d.data("ctxmenuActive")&&c&&c.length&&c.is(d)&&!d.hasClass("context-menu-disabled")){b.preventDefault();b.stopImmediatePropagation();c=d;d.trigger(jQuery.Event("ctxmenu",{data:b.data,pageX:b.pageX,pageY:b.pageY}))}d.removeData("ctxmenuActive")},mouseenter:function(b){var d=a(this),e=a(b.relatedTarget),f=a(document);if(e.is(".context-menu-list")||e.closest(".context-menu-list").length){return}if(c&&c.length){return}k.pageX=b.pageX;k.pageY=b.pageY;k.data=b.data;f.on("mousemove.ctxmenuShow",m.mousemove);k.timer=setTimeout(function(){k.timer=null;f.off("mousemove.ctxmenuShow");c=d;d.trigger(jQuery.Event("ctxmenu",{data:k.data,pageX:k.pageX,pageY:k.pageY}))},b.data.delay)},mousemove:function(a){k.pageX=a.pageX;k.pageY=a.pageY},mouseleave:function(b){var c=a(b.relatedTarget);if(c.is(".context-menu-list")||c.closest(".context-menu-list").length){return}try{clearTimeout(k.timer)}catch(b){}k.timer=null},layerClick:function(b){var c=a(this),d=c.data("ctxmenuRoot"),e=false,f=b.button,h=b.pageX,i=b.pageY,j,k,l;b.preventDefault();b.stopImmediatePropagation();c.on("mouseup",function(){e=true});setTimeout(function(){var m,n;if(d.trigger=="left"&&f==0||d.trigger=="right"&&f==2){if(document.elementFromPoint){d.$layer.hide();j=document.elementFromPoint(h,i);d.$layer.show();l=[];for(var o in g){l.push(o)}j=a(j).closest(l.join(", "));if(j.length){if(j.is(d.$trigger[0])){d.position.call(d.$trigger,d,h,i);return}}}else{k=d.$trigger.offset();m=a(window);k.top+=m.scrollTop();if(k.top<=b.pageY){k.left+=m.scrollLeft();if(k.left<=b.pageX){k.bottom=k.top+d.$trigger.outerHeight();if(k.bottom>=b.pageY){k.right=k.left+d.$trigger.outerWidth();if(k.right>=b.pageX){d.position.call(d.$trigger,d,h,i);return}}}}}}n=function(a){if(a){a.preventDefault();a.stopImmediatePropagation()}d.$menu.trigger("ctxmenu:hide");if(j&&j.length){setTimeout(function(){j.ctxmenu({x:h,y:i})},50)}};if(e){n()}else{c.on("mouseup",n)}},50)},keyStop:function(a,b){if(!b.isInput){a.preventDefault()}a.stopPropagation()},key:function(a){var b=c.data("ctxmenu")||{},d=b.$menu.children(),e;switch(a.keyCode){case 9:case 38:m.keyStop(a,b);if(b.isInput){if(a.keyCode==9&&a.shiftKey){a.preventDefault();b.$selected&&b.$selected.find("input, textarea, select").blur();b.$menu.trigger("prevcommand");return}else if(a.keyCode==38&&b.$selected.find("input, textarea, select").prop("type")=="checkbox"){a.preventDefault();return}}else if(a.keyCode!=9||a.shiftKey){b.$menu.trigger("prevcommand");return};case 9:case 40:m.keyStop(a,b);if(b.isInput){if(a.keyCode==9){a.preventDefault();b.$selected&&b.$selected.find("input, textarea, select").blur();b.$menu.trigger("nextcommand");return}else if(a.keyCode==40&&b.$selected.find("input, textarea, select").prop("type")=="checkbox"){a.preventDefault();return}}else{b.$menu.trigger("nextcommand");return}break;case 37:m.keyStop(a,b);if(b.isInput||!b.$selected||!b.$selected.length){break}if(!b.$selected.parent().hasClass("context-menu-root")){var f=b.$selected.parent().parent();b.$selected.trigger("ctxmenu:blur");b.$selected=f;return}break;case 39:m.keyStop(a,b);if(b.isInput||!b.$selected||!b.$selected.length){break}var g=b.$selected.data("ctxmenu")||{};if(g.$menu&&b.$selected.hasClass("context-menu-submenu")){b.$selected=null;g.$selected=null;g.$menu.trigger("nextcommand");return}break;case 35:case 36:if(b.$selected&&b.$selected.find("input, textarea, select").length){return}else{(b.$selected&&b.$selected.parent()||b.$menu).children(":not(.disabled, .not-selectable)")[a.keyCode==36?"first":"last"]().trigger("ctxmenu:focus");a.preventDefault();return}break;case 13:m.keyStop(a,b);if(b.isInput){if(b.$selected&&!b.$selected.is("textarea, select")){a.preventDefault();return}break}b.$selected&&b.$selected.trigger("mouseup");return;case 32:case 33:case 34:m.keyStop(a,b);return;case 27:m.keyStop(a,b);b.$menu.trigger("ctxmenu:hide");return;default:var h=String.fromCharCode(a.keyCode).toUpperCase();if(b.accesskeys[h]){b.accesskeys[h].$node.trigger(b.accesskeys[h].$menu?"ctxmenu:focus":"mouseup");return}break}a.stopPropagation();b.$selected&&b.$selected.trigger(a)},prevItem:function(b){b.stopPropagation();var c=a(this).data("ctxmenu")||{};if(c.$selected){var d=c.$selected;c=c.$selected.parent().data("ctxmenu")||{};c.$selected=d}var e=c.$menu.children(),f=!c.$selected||!c.$selected.prev().length?e.last():c.$selected.prev(),g=f;while(f.hasClass("disabled")||f.hasClass("not-selectable")){if(f.prev().length){f=f.prev()}else{f=e.last()}if(f.is(g)){return}}if(c.$selected){m.itemMouseleave.call(c.$selected.get(0),b)}m.itemMouseenter.call(f.get(0),b);var h=f.find("input, textarea, select");if(h.length){h.focus()}},nextItem:function(b){b.stopPropagation();var c=a(this).data("ctxmenu")||{};if(c.$selected){var d=c.$selected;c=c.$selected.parent().data("ctxmenu")||{};c.$selected=d}var e=c.$menu.children(),f=!c.$selected||!c.$selected.next().length?e.first():c.$selected.next(),g=f;while(f.hasClass("disabled")||f.hasClass("not-selectable")){if(f.next().length){f=f.next()}else{f=e.first()}if(f.is(g)){return}}if(c.$selected){m.itemMouseleave.call(c.$selected.get(0),b)}m.itemMouseenter.call(f.get(0),b);var h=f.find("input, textarea, select");if(h.length){h.focus()}},focusInput:function(b){var c=a(this).closest(".context-menu-item"),d=c.data(),e=d.ctxmenu,f=d.ctxmenuRoot;f.$selected=e.$selected=c;f.isInput=e.isInput=true},blurInput:function(b){var c=a(this).closest(".context-menu-item"),d=c.data(),e=d.ctxmenu,f=d.ctxmenuRoot;f.isInput=e.isInput=false},menuMouseenter:function(b){var c=a(this).data().ctxmenuRoot;c.hovering=true},menuMouseleave:function(b){var c=a(this).data().ctxmenuRoot;if(c.$layer&&c.$layer.is(b.relatedTarget)){c.hovering=false}},itemMouseenter:function(b){var c=a(this),d=c.data(),e=d.ctxmenu,f=d.ctxmenuRoot;f.hovering=true;if(b&&f.$layer&&f.$layer.is(b.relatedTarget)){b.preventDefault();b.stopImmediatePropagation()}(e.$menu?e:f).$menu.children(".hover").trigger("ctxmenu:blur");if(c.hasClass("disabled")||c.hasClass("not-selectable")){e.$selected=null;return}c.trigger("ctxmenu:focus")},itemMouseleave:function(b){var c=a(this),d=c.data(),e=d.ctxmenu,f=d.ctxmenuRoot;if(f!==e&&f.$layer&&f.$layer.is(b.relatedTarget)){f.$selected&&f.$selected.trigger("ctxmenu:blur");b.preventDefault();b.stopImmediatePropagation();f.$selected=e.$selected=e.$node;return}c.trigger("ctxmenu:blur")},itemClick:function(b){var c=a(this),d=c.data(),e=d.ctxmenu,f=d.ctxmenuRoot,g=d.ctxmenuKey,h;if(!e.items[g]||c.hasClass("disabled")||c.hasClass("context-menu-submenu")){return}b.preventDefault();b.stopImmediatePropagation();if(a.isFunction(f.callbacks[g])){h=f.callbacks[g]}else if(a.isFunction(f.callback)){h=f.callback}else{return}if(h.call(f.$trigger,g,f)!==false){f.$menu.trigger("ctxmenu:hide")}else if(f.$menu.parent().length){n.update.call(f.$trigger,f)}},inputClick:function(a){a.stopImmediatePropagation()},hideMenu:function(b,c){var d=a(this).data("ctxmenuRoot");n.hide.call(d.$trigger,d,c&&c.force)},focusItem:function(b){b.stopPropagation();var c=a(this),d=c.data(),e=d.ctxmenu,f=d.ctxmenuRoot;c.addClass("hover").siblings(".hover").trigger("ctxmenu:blur");e.$selected=f.$selected=c;if(e.$node){f.positionSubmenu.call(e.$node,e.$menu)}},blurItem:function(b){b.stopPropagation();var c=a(this),d=c.data(),e=d.ctxmenu,f=d.ctxmenuRoot;c.removeClass("hover");e.$selected=null}},n={show:function(b,d,e){var f=a(this),g,h={};a("#context-menu-layer").trigger("mousedown");b.$trigger=f;if(b.events.show.call(f,b)===false){c=null;return}n.update.call(f,b);b.position.call(f,b,d,e);if(b.zIndex){h.zIndex=l(f)+b.zIndex}n.layer.call(b.$menu,b,h.zIndex);b.$menu.find("ul").css("zIndex",h.zIndex+1);b.$menu.css(h)[b.animation.show](b.animation.duration);f.data("ctxmenu",b);a(document).off("keydown.ctxmenu").on("keydown.ctxmenu",m.key);if(b.autoHide){var i=f.position();i.right=i.left+f.outerWidth();i.bottom=i.top+this.outerHeight();a(document).on("mousemove.ctxmenuAutoHide",function(a){if(b.$layer&&!b.hovering&&(!(a.pageX>=i.left&&a.pageX<=i.right)||!(a.pageY>=i.top&&a.pageY<=i.bottom))){b.$menu.trigger("ctxmenu:hide")}})}},hide:function(d,e){var f=a(this);if(!d){d=f.data("ctxmenu")||{}}if(!e&&d.events&&d.events.hide.call(f,d)===false){return}if(d.$layer){setTimeout(function(a){return function(){a.remove()}}(d.$layer),10);try{delete d.$layer}catch(g){d.$layer=null}}c=null;d.$menu.find(".hover").trigger("ctxmenu:blur");d.$selected=null;a(document).off(".ctxmenuAutoHide").off("keydown.ctxmenu");d.$menu&&d.$menu[d.animation.hide](d.animation.duration,function(){if(d.build){d.$menu.remove();a.each(d,function(a,c){switch(a){case"ns":case"selector":case"build":case"trigger":return true;default:d[a]=b;try{delete d[a]}catch(e){}return true}})}})},create:function(c,d){if(d===b){d=c}c.$menu=a('<ul class="context-menu-list '+(c.className||"")+'"></ul>').data({ctxmenu:c,ctxmenuRoot:d});a.each(["callbacks","commands","inputs"],function(a,b){c[b]={};if(!d[b]){d[b]={}}});d.accesskeys||(d.accesskeys={});a.each(c.items,function(b,e){var f=a('<li class="context-menu-item '+(e.className||"")+'"></li>'),g=null,h=null;e.$node=f.data({ctxmenu:c,ctxmenuRoot:d,ctxmenuKey:b});if(e.accesskey){var j=o(e.accesskey);for(var k=0,l;l=j[k];k++){if(!d.accesskeys[l]){d.accesskeys[l]=e;e._name=e.name.replace(new RegExp("("+l+")","i"),'<span class="context-menu-accesskey">$1</span>');break}}}if(typeof e=="string"){f.addClass("context-menu-separator not-selectable")}else if(e.type&&i[e.type]){i[e.type].call(f,e,c,d);a.each([c,d],function(c,d){d.commands[b]=e;if(a.isFunction(e.callback)){d.callbacks[b]=e.callback}})}else{if(e.type=="html"){f.addClass("context-menu-html not-selectable")}else if(e.type){g=a("<label></label>").appendTo(f);a("<span></span>").html(e._name||e.name).appendTo(g);f.addClass("context-menu-input");c.hasTypes=true;a.each([c,d],function(a,c){c.commands[b]=e;c.inputs[b]=e})}else if(e.items){e.type="sub"}switch(e.type){case"text":h=a('<input type="text" value="1" name="context-menu-input-'+b+'" value="">').val(e.value||"").appendTo(g);break;case"textarea":h=a('<textarea name="context-menu-input-'+b+'"></textarea>').val(e.value||"").appendTo(g);if(e.height){h.height(e.height)}break;case"checkbox":h=a('<input type="checkbox" value="1" name="context-menu-input-'+b+'" value="">').val(e.value||"").prop("checked",!!e.selected).prependTo(g);break;case"radio":h=a('<input type="radio" value="1" name="context-menu-input-'+e.radio+'" value="">').val(e.value||"").prop("checked",!!e.selected).prependTo(g);break;case"select":h=a('<select name="context-menu-input-'+b+'">').appendTo(g);if(e.options){a.each(e.options,function(b,c){a("<option></option>").val(b).text(c).appendTo(h)});h.val(e.selected)}break;case"sub":a("<span></span>").html(e._name||e.name).appendTo(f);e.appendTo=e.$node;n.create(e,d);f.data("ctxmenu",e).addClass("context-menu-submenu");e.callback=null;break;case"html":a(e.html).appendTo(f);break;default:a.each([c,d],function(c,d){d.commands[b]=e;if(a.isFunction(e.callback)){d.callbacks[b]=e.callback}});a("<span></span>").html(e._name||e.name||"").appendTo(f);break}if(e.type&&e.type!="sub"&&e.type!="html"){h.on("focus",m.focusInput).on("blur",m.blurInput);if(e.events){h.on(e.events)}}if(e.icon){f.addClass("icon icon-"+e.icon)}}e.$input=h;e.$label=g;f.appendTo(c.$menu);if(!c.hasTypes&&a.support.eventSelectstart){f.on("selectstart.disableTextSelect",m.abortevent)}});if(!c.$node){c.$menu.css("display","none").addClass("context-menu-root")}c.$menu.appendTo(c.appendTo||document.body)},update:function(c,d){var e=this;if(d===b){d=c;c.$menu.find("ul").andSelf().css({position:"static",display:"block"}).each(function(){var b=a(this);b.width(b.css("position","absolute").width()).css("position","static")}).css({position:"",display:""})}c.$menu.children().each(function(){var b=a(this),f=b.data("ctxmenuKey"),g=c.items[f],h=a.isFunction(g.disabled)&&g.disabled.call(e,f,d)||g.disabled===true;b[h?"addClass":"removeClass"]("disabled");if(g.type){b.find("input, select, textarea").prop("disabled",h);switch(g.type){case"text":case"textarea":g.$input.val(g.value||"");break;case"checkbox":case"radio":g.$input.val(g.value||"").prop("checked",!!g.selected);break;case"select":g.$input.val(g.selected||"");break}}if(g.$menu){n.update.call(e,g,d)}})},layer:function(b,c){var d=b.$layer=a('<div id="context-menu-layer" style="position:fixed; z-index:'+c+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:e.height(),width:e.width(),display:"block"}).data("ctxmenuRoot",b).insertBefore(this).on("ctxmenu",m.abortevent).on("mousedown",m.layerClick);if(!a.support.fixedPosition){d.css({position:"absolute",height:a(document).height()})}return d}};a.fn.ctxmenu=function(a){if(a===b){this.first().trigger("ctxmenu")}else if(a.x&&a.y){this.first().trigger(jQuery.Event("ctxmenu",{pageX:a.x,pageY:a.y}))}else if(a==="hide"){var c=this.data("ctxmenu").$menu;c&&c.trigger("ctxmenu:hide")}else if(a){this.removeClass("context-menu-disabled")}else if(!a){this.addClass("context-menu-disabled")}return this};a.ctxmenu=function(c,e){if(typeof c!="string"){e=c;c="create"}if(typeof e=="string"){e={selector:e}}else if(e===b){e={}}var i=a.extend(true,{},j,e||{}),k=a(document);switch(c){case"create":if(!i.selector){throw new Error("No selector specified")}if(i.selector.match(/.context-menu-(list|item|input)($|\s)/)){throw new Error('Cannot bind to selector "'+i.selector+'" as it contains a reserved className')}if(!i.build&&(!i.items||a.isEmptyObject(i.items))){throw new Error("No Items sepcified")}f++;i.ns=".ctxmenu"+f;g[i.selector]=i.ns;h[i.ns]=i;if(!i.trigger){i.trigger="right"}if(!d){k.on({"ctxmenu:hide.ctxmenu":m.hideMenu,"prevcommand.ctxmenu":m.prevItem,"nextcommand.ctxmenu":m.nextItem,"ctxmenu.ctxmenu":m.abortevent,"mouseenter.ctxmenu":m.menuMouseenter,"mouseleave.ctxmenu":m.menuMouseleave},".context-menu-list").on("mouseup.ctxmenu",".context-menu-input",m.inputClick).on({"mouseup.ctxmenu":m.itemClick,"ctxmenu:focus.ctxmenu":m.focusItem,"ctxmenu:blur.ctxmenu":m.blurItem,"ctxmenu.ctxmenu":m.abortevent,"mouseenter.ctxmenu":m.itemMouseenter,"mouseleave.ctxmenu":m.itemMouseleave},".context-menu-item");d=true}k.on("ctxmenu"+i.ns,i.selector,i,m.ctxmenu);switch(i.trigger){case"hover":k.on("mouseenter"+i.ns,i.selector,i,m.mouseenter).on("mouseleave"+i.ns,i.selector,i,m.mouseleave);break;case"left":k.on("click"+i.ns,i.selector,i,m.click);break}if(!i.build){n.create(i)}break;case"destroy":if(!i.selector){k.off(".ctxmenu .ctxmenuAutoHide");a.each(g,function(a,b){k.off(b)});g={};h={};f=0;d=false;a("#context-menu-layer, .context-menu-list").remove()}else if(g[i.selector]){var l=a(".context-menu-list").filter(":visible");if(l.length&&l.data().ctxmenuRoot.$trigger.is(i.selector)){l.trigger("ctxmenu:hide",{force:true})}try{if(h[g[i.selector]].$menu){h[g[i.selector]].$menu.remove()}delete h[g[i.selector]]}catch(o){h[g[i.selector]]=null}k.off(g[i.selector])}break;case"html5":if(!a.support.htmlCommand&&!a.support.htmlMenuitem||typeof e=="boolean"&&e){a('menu[type="context"]').each(function(){if(this.id){a.ctxmenu({selector:"[ctxmenu="+this.id+"]",items:a.ctxmenu.fromMenu(this)})}}).css("display","none")}break;default:throw new Error('Unknown operation "'+c+'"')}return this};a.ctxmenu.setInputValues=function(c,d){if(d===b){d={}}a.each(c.inputs,function(a,b){switch(b.type){case"text":case"textarea":b.value=d[a]||"";break;case"checkbox":b.selected=d[a]?true:false;break;case"radio":b.selected=(d[b.radio]||"")==b.value?true:false;break;case"select":b.selected=d[a]||"";break}})};a.ctxmenu.getInputValues=function(c,d){if(d===b){d={}}a.each(c.inputs,function(a,b){switch(b.type){case"text":case"textarea":case"select":d[a]=b.$input.val();break;case"checkbox":d[a]=b.$input.prop("checked");break;case"radio":if(b.$input.prop("checked")){d[b.radio]=b.value}break}});return d};a.ctxmenu.fromMenu=function(b){var c=a(b),d={};q(d,c.children());return d};a.ctxmenu.defaults=j;a.ctxmenu.types=i})(jQuery);

/* BGstretcher */
(function(a){var b=null;var c="",d="",e="";var f=this;var g=false;var h=null;a.fn.bgStretcher=function(f){function g(){if(!f.images.length){return}k();e="#"+f.imageContainer;b=a(e);c="#"+f.imageContainer+" IMG";d="#"+f.imageContainer+" LI";a(d).hide();a(d+":first").show().addClass("bgs-current");if(!b.length){return}a(window).resize(j);if(f.slideShow&&a(c).length>1){h=setTimeout("$.fn.bgStretcher.slideShow()",f.nextSlideDelay)}j()}function j(){var d=a(window).width();var e=a(window).height();var g=0,h=0;b.width(d);b.height(e);if(!f.resizeProportionally){g=d;h=e}else{var i=f.imageWidth,j=f.imageHeight;var k=j/i;g=d;h=d*k;if(h<e){h=e;g=h/k}}if(!f.resizeAnimate){a(c).width(g).height(h)}else{a(c).animate({width:g,height:h},"normal")}}function k(){var b='<div id="'+f.imageContainer+'" class="bgstretcher"><ul>';for(i=0;i<f.images.length;i++){b+='<li><img src="'+f.images[i]+'" alt="" /></li>'}b+="</ul></div>";a(b).appendTo("body")}f=a.extend({},a.fn.bgStretcher.defaults,f);a.fn.bgStretcher.settings=f;g()};a.fn.bgStretcher.play=function(){g=false;a.fn.bgStretcher._clearTimeout();a.fn.bgStretcher.slideShow()};a.fn.bgStretcher._clearTimeout=function(){if(h!=null){clearTimeout(h);h=null}};a.fn.bgStretcher.pause=function(){g=true;a.fn.bgStretcher._clearTimeout()};a.fn.bgStretcher.slideShow=function(){var b=a(e+" LI.bgs-current");var c=b.next();if(!c.length){c=a(e+" LI:first")}a(e+" LI").removeClass("bgs-current");c.addClass("bgs-current");c.fadeIn(a.fn.bgStretcher.settings.slideShowSpeed);b.fadeOut(a.fn.bgStretcher.settings.slideShowSpeed);if(!g){h=setTimeout("$.fn.bgStretcher.slideShow()",a.fn.bgStretcher.settings.nextSlideDelay)}};a.fn.bgStretcher.defaults={imageContainer:"bgstretcher",resizeProportionally:true,resizeAnimate:false,images:[],imageWidth:1024,imageHeight:768,nextSlideDelay:3e3,slideShowSpeed:"normal",slideShow:true};a.fn.bgStretcher.settings={}})(jQuery);

(function ($) {$.fn.fixedMenu = function () {return this.each(function () {var menu = $(this);
menu.find('ul li > a').bind('click', function () {
if (!$(this).parent().hasClass('single-link') && !$(this).parent().hasClass('current')) {
if ($(this).parent().hasClass('active')) { $(this).parent().removeClass('active'); }
else { $(this).parent().parent().find('.active').removeClass('active'); $(this).parent().addClass('active'); }}
else { $(this).parent().parent().find('.active').removeClass('active'); }
});}); } })(jQuery);

/*! http://mths.be/placeholder v2.0.7 by @mathias */
;(function(f,h,$){var a='placeholder' in h.createElement('input'),d='placeholder' in h.createElement('textarea'),i=$.fn,c=$.valHooks,k,j;if(a&&d){j=i.placeholder=function(){return this};j.input=j.textarea=true}else{j=i.placeholder=function(){var l=this;l.filter((a?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':b,'blur.placeholder':e}).data('placeholder-enabled',true).trigger('blur.placeholder');return l};j.input=a;j.textarea=d;k={get:function(m){var l=$(m);return l.data('placeholder-enabled')&&l.hasClass('placeholder')?'':m.value},set:function(m,n){var l=$(m);if(!l.data('placeholder-enabled')){return m.value=n}if(n==''){m.value=n;if(m!=h.activeElement){e.call(m)}}else{if(l.hasClass('placeholder')){b.call(m,true,n)||(m.value=n)}else{m.value=n}}return l}};a||(c.input=k);d||(c.textarea=k);$(function(){$(h).delegate('form','submit.placeholder',function(){var l=$('.placeholder',this).each(b);setTimeout(function(){l.each(e)},10)})});$(f).bind('beforeunload.placeholder',function(){$('.placeholder').each(function(){this.value=''})})}function g(m){var l={},n=/^jQuery\d+$/;$.each(m.attributes,function(p,o){if(o.specified&&!n.test(o.name)){l[o.name]=o.value}});return l}function b(m,n){var l=this,o=$(l);if(l.value==o.attr('placeholder')&&o.hasClass('placeholder')){if(o.data('placeholder-password')){o=o.hide().next().show().attr('id',o.removeAttr('id').data('placeholder-id'));if(m===true){return o[0].value=n}o.focus()}else{l.value='';o.removeClass('placeholder');l==h.activeElement&&l.select()}}}function e(){var q,l=this,p=$(l),m=p,o=this.id;if(l.value==''){if(l.type=='password'){if(!p.data('placeholder-textinput')){try{q=p.clone().attr({type:'text'})}catch(n){q=$('<input>').attr($.extend(g(this),{type:'text'}))}q.removeAttr('name').data({'placeholder-password':true,'placeholder-id':o}).bind('focus.placeholder',b);p.data({'placeholder-textinput':q,'placeholder-id':o}).before(q)}p=p.removeAttr('id').hide().prev().attr('id',o).show()}p.addClass('placeholder');p[0].value=p.attr('placeholder')}else{p.removeClass('placeholder')}}}(this,document,jQuery));

/* Cookie $.cookie(key, value, options) */
(function(a,b,c){function e(a){return a}function f(a){return decodeURIComponent(a.replace(d," "))}var d=/\+/g;var g=a.cookie=function(d,h,i){if(h!==c){i=a.extend({},g.defaults,i);if(h===null){i.expires=-1}if(typeof i.expires==="number"){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}h=g.json?JSON.stringify(h):String(h);return b.cookie=[encodeURIComponent(d),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var l=g.raw?e:f;var m=b.cookie.split("; ");for(var n=0,o=m.length;n<o;n++){var p=m[n].split("=");if(l(p.shift())===d){var q=l(p.join("="));return g.json?JSON.parse(q):q}}return null};g.defaults={};a.removeCookie=function(b,c){if(a.cookie(b)!==null){a.cookie(b,null,c);return true}return false}})(jQuery,document);

/* Zebra Dialog */
;(function(c){c.Zebra_Dialog=function(g,j){var o={animation_speed:250,auto_close:!1,buttons:!0,custom_class:!1,keyboard:!0,message:"",modal:!0,overlay_close:!0,overlay_opacity:0.9,position:"center",title:"",type:"information",vcenter_short_message:!0,width:0,onClose:null},a=this;a.settings={};options={};"string"==typeof g&&(options.message=g);if("object"==typeof g||"object"==typeof j)options=c.extend(options,"object"==typeof g?g:j);a.init=function(){a.settings=c.extend({},o,options);a.isIE6=c.browser.msie&& parseInt(c.browser.version,10)==6||false;if(a.settings.modal){a.overlay=jQuery("<div>",{"class":"ZebraDialogOverlay"}).css({position:a.isIE6?"absolute":"fixed",left:0,top:0,opacity:a.settings.overlay_opacity,"z-index":1E3});a.settings.overlay_close&&a.overlay.bind("click",function(){a.close()});a.overlay.appendTo("body")}a.dialog=jQuery("<div>",{"class":"ZebraDialog"+(a.settings.custom_class?" "+a.settings.custom_class:"")}).css({position:a.isIE6?"absolute":"fixed",left:0,top:0,"z-index":1001,visibility:"hidden"}); !a.settings.buttons&&a.settings.auto_close&&a.dialog.attr("id","ZebraDialog_"+Math.floor(Math.random()*9999999));var b=parseInt(a.settings.width);!isNaN(b)&&b==a.settings.width&&b.toString()==a.settings.width.toString()&&b>0&&a.dialog.css({width:a.settings.width});a.settings.title&&jQuery("<h3>",{"class":"ZebraDialog_Title"}).html(a.settings.title).appendTo(a.dialog);a.message=jQuery("<div>",{"class":"ZebraDialog_Body"+(k()!=""?" ZebraDialog_Icon ZebraDialog_"+k():"")});a.settings.vcenter_short_message? jQuery("<div>").html(a.settings.message).appendTo(a.message):a.message.html(a.settings.message);a.message.appendTo(a.dialog);if(a.settings.buttons!==true&&!c.isArray(a.settings.buttons))b=false;else{if(a.settings.buttons===true)switch(a.settings.type){case "question":a.settings.buttons=["Yes","No"];break;default:a.settings.buttons=["Ok"]}b=a.settings.buttons.reverse()}if(b){var d=jQuery("<div>",{"class":"ZebraDialog_Buttons"}).appendTo(a.dialog);c.each(b,function(b,e){var h=jQuery("<a>",{href:"javascript:void(0)", "class":"ZebraDialog_Button"+b});c.isPlainObject(e)?h.html(e.caption):h.html(e);h.bind("click",function(){void 0!=e.callback&&e.callback(a.dialog);a.close(void 0!=e.caption?e.caption:e)});h.appendTo(d)});jQuery("<div>",{style:"clear:both"}).appendTo(d)}a.dialog.appendTo("body");c(window).bind("resize",i);a.settings.keyboard&&c(document).bind("keyup",l);a.isIE6&&c(window).bind("scroll",m);if(a.settings.auto_close!==false){a.dialog.bind("click",function(){clearTimeout(a.timeout);a.close()});a.timeout= setTimeout(a.close,a.settings.auto_close)}i();return a};a.close=function(b){a.settings.keyboard&&c(document).unbind("keyup",l);a.isIE6&&c(window).unbind("scroll",m);c(window).unbind("resize",i);a.overlay&&a.overlay.animate({opacity:0},a.settings.animation_speed,function(){a.overlay.remove()});a.dialog.animate({top:0,opacity:0},a.settings.animation_speed,function(){a.dialog.remove();if(a.settings.onClose&&typeof a.settings.onClose=="function")a.settings.onClose(void 0!=b?b:"")})};var i=function(){var b= c(window).width(),d=c(window).height(),f=a.dialog.width(),e=a.dialog.height(),f={left:0,top:0,right:b-f,bottom:d-e,center:(b-f)/2,middle:(d-e)/2};a.dialog_left=void 0;a.dialog_top=void 0;a.settings.modal&&a.overlay.css({width:b,height:d});if(c.isArray(a.settings.position)&&a.settings.position.length==2&&typeof a.settings.position[0]=="string"&&a.settings.position[0].match(/^(left|right|center)[\s0-9\+\-]*$/)&&typeof a.settings.position[1]=="string"&&a.settings.position[1].match(/^(top|bottom|middle)[\s0-9\+\-]*$/)){a.settings.position[0]= a.settings.position[0].toLowerCase();a.settings.position[1]=a.settings.position[1].toLowerCase();c.each(f,function(b,c){for(var d=0;d<2;d++){var e=a.settings.position[d].replace(b,c);if(e!=a.settings.position[d])d==0?a.dialog_left=eval(e):a.dialog_top=eval(e)}})}if(void 0==a.dialog_left||void 0==a.dialog_top){a.dialog_left=f.center;a.dialog_top=f.middle}if(a.settings.vcenter_short_message){b=a.message.find("div:first");d=b.height();f=a.message.height();d<f&&b.css({"margin-top":(f-d)/2})}a.dialog.css({left:a.dialog_left, top:a.dialog_top,visibility:"visible"});a.dialog.find("a[class^=ZebraDialog_Button]:first").focus();a.isIE6&&setTimeout(n,500)},n=function(){var b=c(window).scrollTop(),d=c(window).scrollLeft();a.settings.modal&&a.overlay.css({top:b,left:d});a.dialog.css({left:a.dialog_left+d,top:a.dialog_top+b})},k=function(){switch(a.settings.type){case "confirmation":case "error":case "information":case "question":case "warning":return a.settings.type.charAt(0).toUpperCase()+a.settings.type.slice(1).toLowerCase(); default:return false}},l=function(b){b.which==27&&a.close();return true},m=function(){n()};return a.init()}})(jQuery);

/* iFrame Autoheight - add class "auto-height" to iFrame */
(function(a){a.fn.iframeAutoHeight=function(b){function d(a){if(c.debug&&c.debug===true&&window.console){console.log(a)}}function e(b,c){d("Diagnostics from '"+c+"'");try{d("  "+a(b,window.top.document).contents().find("body")[0].scrollHeight+" for ...find('body')[0].scrollHeight");d("  "+a(b.contentWindow.document).height()+" for ...contentWindow.document).height()");d("  "+a(b.contentWindow.document.body).height()+" for ...contentWindow.document.body).height()")}catch(e){d("  unable to check in this state")}d("End diagnostics -> results vary by browser and when diagnostics are requested")}var c=a.extend({heightOffset:0,minHeight:0,callback:function(a){},debug:false,diagnostics:false},b);d(c);return this.each(function(){function f(b){if(c.diagnostics){e(b,"resizeHeight")}var f=a(b,window.top.document).contents().find("body");var g=f[0].scrollHeight+c.heightOffset;if(g<c.minHeight){d("new height is less than minHeight");g=c.minHeight+c.heightOffset}d("New Height: "+g);b.style.height=g+"px";c.callback.apply(a(b),[{newFrameHeight:g}])}var b=0;d(this);if(c.diagnostics){e(this,"each iframe")}if(a.browser.safari||a.browser.opera){d("browser is webkit or opera");a(this).load(function(){var a=0;var c=this;c.style.height="0px";var e=function(){f(c)};if(b===0){a=500}d("load delay: "+a);setTimeout(e,a);b++});var g=a(this).attr("src");a(this).attr("src","");a(this).attr("src",g)}else{a(this).load(function(){f(this)})}})}})(jQuery);

/*  Complexify a Password */
(function(a){a.fn.extend({complexify:function(b,c){function h(a,b){for(var c=a.length-1;c>=0;c--){if(b[0]<=a.charCodeAt(c)&&a.charCodeAt(c)<=b[1]){return b[1]-b[0]+1}}return 0}var d=49;var e=120;var f=[[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]];var g={minimumChars:8,strengthScaleFactor:1};if(a.isFunction(b)&&!c){c=b;b={}}b=a.extend(g,b);return this.each(function(){a(this).keyup(function(){var g=a(this).val();var i=0,j=false;for(var k=f.length-1;k>=0;k--){i+=h(g,f[k])}i=Math.log(Math.pow(i,g.length))*(1/b.strengthScaleFactor);j=i>d&&g.length>=b.minimumChars;i=i/e*100;i=i>100?100:i;c.call(this,j,i)})})}})})(jQuery);

/* LiveQuery $('a').livequery('click', function(event) { alert('clicked'); return false; }); */
(function(a){a.extend(a.fn,{livequery:function(e,d,c){var b=this,f;if(a.isFunction(e)){c=d,d=e,e=undefined}a.each(a.livequery.queries,function(g,h){if(b.selector==h.selector&&b.context==h.context&&e==h.type&&(!d||d.$lqguid==h.fn.$lqguid)&&(!c||c.$lqguid==h.fn2.$lqguid)){return(f=h)&&false}});f=f||new a.livequery(this.selector,this.context,e,d,c);f.stopped=false;f.run();return this},expire:function(e,d,c){var b=this;if(a.isFunction(e)){c=d,d=e,e=undefined}a.each(a.livequery.queries,function(f,g){if(b.selector==g.selector&&b.context==g.context&&(!e||e==g.type)&&(!d||d.$lqguid==g.fn.$lqguid)&&(!c||c.$lqguid==g.fn2.$lqguid)&&!this.stopped){a.livequery.stop(g.id)}});return this}});a.livequery=function(b,d,f,e,c){this.selector=b;this.context=d;this.type=f;this.fn=e;this.fn2=c;this.elements=[];this.stopped=false;this.id=a.livequery.queries.push(this)-1;e.$lqguid=e.$lqguid||a.livequery.guid++;if(c){c.$lqguid=c.$lqguid||a.livequery.guid++}return this};a.livequery.prototype={stop:function(){var b=this;if(this.type){this.elements.unbind(this.type,this.fn)}else{if(this.fn2){this.elements.each(function(c,d){b.fn2.apply(d)})}}this.elements=[];this.stopped=true},run:function(){if(this.stopped){return}var d=this;var e=this.elements,c=a(this.selector,this.context),b=c.not(e);this.elements=c;if(this.type){b.bind(this.type,this.fn);if(e.length>0){a.each(e,function(f,g){if(a.inArray(g,c)<0){a.event.remove(g,d.type,d.fn)}})}}else{b.each(function(){d.fn.apply(this)});if(this.fn2&&e.length>0){a.each(e,function(f,g){if(a.inArray(g,c)<0){d.fn2.apply(g)}})}}}};a.extend(a.livequery,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length){var b=a.livequery.queue.length;while(b--){a.livequery.queries[a.livequery.queue.shift()].run()}}},pause:function(){a.livequery.running=false},play:function(){a.livequery.running=true;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(c,d){if(!a.fn[d]){return}var b=a.fn[d];a.fn[d]=function(){var e=b.apply(this,arguments);a.livequery.run();return e}})},run:function(b){if(b!=undefined){if(a.inArray(b,a.livequery.queue)<0){a.livequery.queue.push(b)}}else{a.each(a.livequery.queries,function(c){if(a.inArray(c,a.livequery.queue)<0){a.livequery.queue.push(c)}})}if(a.livequery.timeout){clearTimeout(a.livequery.timeout)}a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){if(b!=undefined){a.livequery.queries[b].stop()}else{a.each(a.livequery.queries,function(c){a.livequery.queries[c].stop()})}}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html");a(function(){a.livequery.play()})})(jQuery);

/* iFrame Inherit 
* parent.inherit(window);
* Example of using the inheritance function as document.ready
* parent.inherit(window)(function(){
*    alert( jQuery('.someElementInTheiFrameDom').text() );
* });
*/
(function(a){this.inherit=function(a){a.jQueryInherit=this.parent.jQuery;a.jQueryInherit.fn.ready=function(b){a.jQueryInherit.hooks.bindReady();if(a.jQueryInherit.hooks.isReady)b.call(a.document,a.jQueryInherit);else a.jQueryInherit.hooks.readyList.push(b);return this};a.jQueryInherit.hooks={isReady:false,readyBound:false,readyList:[],bindReady:function(){if(a.jQueryInherit.hooks.readyBound)return;a.jQueryInherit.hooks.readyBound=true;if(a.document.addEventListener){a.document.addEventListener("DOMContentLoaded",function(){a.document.removeEventListener("DOMContentLoaded",arguments.callee,false);a.jQueryInherit.hooks.ready()},false)}else if(a.document.attachEvent){a.document.attachEvent("onreadystatechange",function(){if(a.document.readyState==="complete"){a.document.detachEvent("onreadystatechange",arguments.callee);a.jQueryInherit.hooks.ready()}});if(a.document.documentElement.doScroll&&a==a.top)(function(){if(a.jQueryInherit.hooks.isReady)return;try{a.document.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}a.jQueryInherit.hooks.ready()})()}jQuery.event.add(a,"load",a.jQueryInherit.hooks.ready)},ready:function(){if(!a.jQueryInherit.hooks.isReady){a.jQueryInherit.hooks.isReady=true;if(a.jQueryInherit.hooks.readyList){jQuery.each(a.jQueryInherit.hooks.readyList,function(){this.call(a.document,a.jQueryInherit)});a.jQueryInherit.hooks.readyList=null}jQuery(a.document).triggerHandler("ready")}}};return a.jQuery=a.$=function(b,c){if(b.constructor.toString().match(/Function/)!=null)return a.jQueryInherit.fn.ready(b);else return a.jQueryInherit.fn.init(b||this.document,c||this.document)}}})(jQuery);
